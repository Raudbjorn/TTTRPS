#!/usr/bin/env python3
"""
Simple test runner for MBED unified system
Usage: ./test [unit|integration|all]
"""

import sys
import subprocess
from pathlib import Path

def main():
    # Default to all tests
    test_type = sys.argv[1] if len(sys.argv) > 1 else "all"

    # Path to test runner
    test_runner = Path(__file__).parent / "tests" / "run_tests.py"

    # Run tests
    if test_type in ["unit", "all"]:
        print("ğŸ§ª Running unit tests...")
        subprocess.run([sys.executable, str(test_runner), "--unit"])

    if test_type in ["integration", "all"]:
        print("\nğŸ”— Running integration tests...")
        subprocess.run([sys.executable, str(test_runner), "--integration"])

    if test_type == "all":
        print("\nğŸ“Š Running all tests with coverage...")
        subprocess.run([sys.executable, str(test_runner), "--coverage"])

if __name__ == "__main__":
    main()